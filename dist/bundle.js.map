{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://ts_project/./src/app.ts","webpack://ts_project/./src/arm.ts","webpack://ts_project/./src/gradient_mode.ts","webpack://ts_project/./src/input.ts","webpack://ts_project/./src/obstacles.ts","webpack://ts_project/./src/plotlib.ts","webpack://ts_project/./src/rrt.ts","webpack://ts_project/./src/rrt_mode.ts","webpack://ts_project/./src/settings.ts","webpack://ts_project/./src/trail.ts","webpack://ts_project/./src/utils.ts","webpack://ts_project/./src/v2.ts","webpack://ts_project/webpack/bootstrap","webpack://ts_project/webpack/startup"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.state_trail = exports.tip_trail = exports.arm_tip_target = exports.loss_highres_coord = exports.loss_heatmap_coord = exports.arm_coord = void 0;\nvar plotlib_1 = require(\"./plotlib\");\nvar input_1 = require(\"./input\");\nvar arm_1 = require(\"./arm\");\nvar settings_1 = require(\"./settings\");\nvar trail_1 = require(\"./trail\");\nvar v2_1 = require(\"./v2\");\nvar gradient_mode_1 = require(\"./gradient_mode\");\nvar rrt_mode_1 = require(\"./rrt_mode\");\nvar arm_canvas = document.getElementById('arm_canvas');\nvar loss_heatmap_canvas = document.getElementById('loss_heatmap_canvas');\nvar loss_highres_canvas = document.getElementById('loss_highres_canvas');\narm_canvas.width = 300;\narm_canvas.height = 300;\nloss_heatmap_canvas.width = 300;\nloss_heatmap_canvas.height = 300;\nloss_highres_canvas.width = 300;\nloss_highres_canvas.height = 300;\nexports.arm_coord = new plotlib_1.coordinateSystem(arm_canvas, -10, 10, -10, 10, 1);\nexports.loss_heatmap_coord = new plotlib_1.coordinateSystem(loss_heatmap_canvas, 0, 2 * Math.PI, 0, 2 * Math.PI, 0.3); // 0.2\nexports.loss_highres_coord = new plotlib_1.coordinateSystem(loss_highres_canvas, 0, 2 * Math.PI, 0, 2 * Math.PI, 1);\nexports.loss_highres_coord.set_as_overlay_on(exports.loss_heatmap_coord);\n(0, arm_1.makeArm)(2);\nexports.arm_tip_target = new v2_1.v2((Math.random() * 10) - 5, (Math.random() * 10) - 5);\narm_canvas.addEventListener(\"mousedown\", function (ev) {\n    exports.arm_tip_target = exports.arm_coord.last_mouse_pos;\n    exports.tip_trail.points = [];\n    exports.state_trail.points = [];\n});\narm_canvas.addEventListener(\"mousemove\", function (ev) {\n    if (input_1.input.LeftMouse) {\n        exports.arm_tip_target = exports.arm_coord.last_mouse_pos;\n        exports.tip_trail.points = [];\n        exports.state_trail.points = [];\n    }\n});\nexports.loss_heatmap_coord.canvas.addEventListener(\"mousedown\", function (ev) {\n    arm_1.current_arm.arm.segments[settings_1.x_axis_index].angle = exports.loss_heatmap_coord.last_mouse_pos.x;\n    arm_1.current_arm.arm.segments[settings_1.y_axis_index].angle = exports.loss_heatmap_coord.last_mouse_pos.y;\n    exports.tip_trail.points = [];\n    exports.state_trail.points = [];\n});\nexports.loss_heatmap_coord.canvas.addEventListener(\"mousemove\", function (ev) {\n    if (input_1.input.LeftMouse) {\n        arm_1.current_arm.arm.segments[settings_1.x_axis_index].angle = exports.loss_heatmap_coord.last_mouse_pos.x;\n        arm_1.current_arm.arm.segments[settings_1.y_axis_index].angle = exports.loss_heatmap_coord.last_mouse_pos.y;\n        exports.tip_trail.points = [];\n        exports.state_trail.points = [];\n    }\n});\nexports.tip_trail = new trail_1.Trail(30, 0.5, 2000);\nexports.state_trail = new trail_1.Trail(30, 0.3, 4);\nif (settings_1.current_mode.rrt) {\n    (0, rrt_mode_1.perform_rrt_mode_setup)();\n}\nelse {\n    (0, gradient_mode_1.perform_gradient_mode_setup)();\n}\nfunction update() {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!settings_1.current_mode.rrt) return [3 /*break*/, 2];\n                    return [4 /*yield*/, (0, rrt_mode_1.perform_rrt_mode_loop)()];\n                case 1:\n                    _a.sent();\n                    return [3 /*break*/, 3];\n                case 2:\n                    (0, gradient_mode_1.perform_gradient_mode_loop)();\n                    _a.label = 3;\n                case 3:\n                    // Schedule the next update\n                    requestAnimationFrame(update);\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\n// Start the update loop\nrequestAnimationFrame(update);\nexports.arm_coord.addAxes(2);\nexports.loss_heatmap_coord.axis_names = ['joint angle', 'joint angle'];\nexports.arm_coord.axis_names = [\"\", \"\"];\nexports.loss_heatmap_coord.addAxes(2);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.current_loss = exports.l_obj = exports.get_arm_tip_pos = exports.points_along_arm = exports.Losses = exports.perform_arm_gradient_step = exports.drawArm = exports.makeArm = exports.copy_arm = exports.current_arm = void 0;\nvar settings_1 = require(\"./settings\");\nvar v2_1 = require(\"./v2\");\nvar current_arm = exports.current_arm = /** @class */ (function () {\n    function current_arm() {\n    }\n    current_arm.arm = { segments: [], pos: v2_1.v2.zero() };\n    return current_arm;\n}());\nfunction copy_arm(arm) {\n    return { segments: arm.segments.map(function (s) { return ({ angle: s.angle, length: s.length }); }), pos: arm.pos.copy() };\n}\nexports.copy_arm = copy_arm;\nfunction makeArm(amount) {\n    current_arm.arm.segments = [];\n    for (var i = 0; i < amount; i++) {\n        current_arm.arm.segments.push({ angle: Math.random() * 2 * Math.PI, length: 10 / amount });\n    }\n}\nexports.makeArm = makeArm;\nfunction drawArm(cs, arm, color) {\n    var pos = arm.pos;\n    for (var _i = 0, _a = arm.segments; _i < _a.length; _i++) {\n        var segment = _a[_i];\n        var tip = v2_1.v2.fromPolar(segment.angle, segment.length);\n        cs.line(pos, pos.add(tip), color);\n        pos = pos.add(tip);\n    }\n}\nexports.drawArm = drawArm;\nfunction perform_arm_gradient_step(arm, arm_tip_target, current_loss_type, step_size) {\n    for (var i = 0; i < arm.segments.length; i++) {\n        var grad = loss_gradient(arm, arm_tip_target, current_loss_type);\n        if (settings_1.toggle_level_set.checked) {\n            for (var its = 0; its < 4; its++) {\n                var inner = settings_1.level_set_scale * Losses.get_loss(current_loss_type)(arm, arm_tip_target) + settings_1.level_set_offset;\n                arm.segments[i].angle -= Math.cos((inner)) * settings_1.level_set_scale * grad[i] * step_size;\n            }\n        }\n        else {\n            arm.segments[i].angle -= grad[i] * step_size;\n        }\n    }\n}\nexports.perform_arm_gradient_step = perform_arm_gradient_step;\nvar Losses = /** @class */ (function () {\n    function Losses() {\n    }\n    Losses.get_loss = function (loss) {\n        switch (loss) {\n            case \"L2\":\n                return Losses.L2;\n                break;\n            case \"L2_squared\":\n                return Losses.L2_squared;\n                break;\n            case \"L1\":\n                return Losses.L1;\n                break;\n            case \"L1_squared\":\n                return Losses.L1_squared;\n                break;\n            case \"Match_Y\":\n                return Losses.Line;\n                break;\n        }\n    };\n    Losses.get_loss_gradient = function (loss) {\n        switch (loss) {\n            case \"L2\":\n                return Losses.L2_gradient;\n                break;\n            case \"L2_squared\":\n                return Losses.L2_squared_gradient;\n                break;\n            case \"L1\":\n                return Losses.L1_gradient;\n                break;\n            case \"L1_squared\":\n                return Losses.L1_squared_gradient;\n                break;\n            case \"Match_Y\":\n                return Losses.Line_gradient;\n                break;\n        }\n    };\n    Losses.L2 = function (arm, target) {\n        return v2_1.v2.distance(get_arm_tip_pos(arm), target);\n    };\n    Losses.L2_gradient = function (tip, target) {\n        var dLoss_dtip = v2_1.v2.zero();\n        var t1 = tip.x - target.x;\n        var t2 = tip.y - target.y;\n        var t3 = Math.pow(t1, 2) + Math.pow(t2, 2);\n        t3 = Math.pow(t3, -0.1e1 / 0.2e1);\n        dLoss_dtip.x = t3 * t1;\n        dLoss_dtip.y = t3 * t2;\n        return dLoss_dtip;\n    };\n    Losses.L2_squared = function (arm, target) {\n        // return 5\n        return Math.pow(v2_1.v2.distance(get_arm_tip_pos(arm), target), 2);\n    };\n    Losses.L2_squared_gradient = function (tip, target) {\n        var dLoss_dtip = v2_1.v2.zero();\n        dLoss_dtip.x = -2 * (target.x - tip.x);\n        dLoss_dtip.y = 2 * (tip.y - target.y);\n        return dLoss_dtip;\n    };\n    Losses.L1 = function (arm, target) {\n        var tip_pos = get_arm_tip_pos(arm);\n        return Math.abs(tip_pos.x - target.x) + Math.abs(tip_pos.y - target.y);\n    };\n    Losses.L1_gradient = function (tip, target) {\n        var dLoss_dtip = v2_1.v2.zero();\n        dLoss_dtip.x = tip.x > target.x ? 1 : -1;\n        dLoss_dtip.y = tip.y > target.y ? 1 : -1;\n        return dLoss_dtip;\n    };\n    Losses.L1_squared = function (arm, target) {\n        var tip_pos = get_arm_tip_pos(arm);\n        return Math.pow(Math.abs(tip_pos.x - target.x) + Math.abs(tip_pos.y - target.y), 2);\n    };\n    Losses.L1_squared_gradient = function (tip, target) {\n        var dLoss_dtip = v2_1.v2.zero();\n        dLoss_dtip.x = tip.x > target.x ? 2 : -2;\n        dLoss_dtip.y = tip.y > target.y ? 2 : -2;\n        dLoss_dtip.x *= Math.abs(tip.x - target.x);\n        dLoss_dtip.y *= Math.abs(tip.y - target.y);\n        return dLoss_dtip;\n    };\n    Losses.Line = function (arm, target) {\n        var tip_pos = get_arm_tip_pos(arm);\n        return Math.pow((tip_pos.y - target.y), 2);\n    };\n    Losses.Line_gradient = function (tip, target) {\n        var dLoss_dtip = v2_1.v2.zero();\n        dLoss_dtip.y = 2 * (tip.y - target.y);\n        return dLoss_dtip;\n    };\n    return Losses;\n}());\nexports.Losses = Losses;\nfunction points_along_arm(arm, step) {\n    var points = [];\n    var ref_pos = arm.pos;\n    var leftover = 0;\n    for (var _i = 0, _a = arm.segments; _i < _a.length; _i++) {\n        var segment = _a[_i];\n        points.push(ref_pos); // base \n        var current = -leftover;\n        while (current + step < segment.length) {\n            current += step;\n            var new_point = v2_1.v2.fromPolar(segment.angle, current).add(ref_pos);\n            points.push(new_point);\n        }\n        leftover = segment.length - current;\n        var tip = v2_1.v2.fromPolar(segment.angle, segment.length);\n        ref_pos = ref_pos.add(tip);\n    }\n    points.push(ref_pos); // tip\n    return points;\n}\nexports.points_along_arm = points_along_arm;\nfunction get_arm_tip_pos(arm) {\n    var pos = arm.pos;\n    for (var _i = 0, _a = arm.segments; _i < _a.length; _i++) {\n        var segment = _a[_i];\n        var tip = v2_1.v2.fromPolar(segment.angle, segment.length);\n        pos = pos.add(tip);\n    }\n    return pos;\n}\nexports.get_arm_tip_pos = get_arm_tip_pos;\nfunction angle_tip_gradient(arm) {\n    // let dtip_dlength = [];\n    var dtip_dangle = [];\n    var tip = arm.pos;\n    for (var _i = 0, _a = arm.segments; _i < _a.length; _i++) {\n        var segment = _a[_i];\n        var local_tip = v2_1.v2.fromPolar(segment.angle, segment.length);\n        tip = tip.add(local_tip);\n        var dtipx_dangle = -segment.length * Math.sin(segment.angle);\n        var dtipy_dangle = segment.length * Math.cos(segment.angle);\n        var angle_grad = new v2_1.v2(dtipx_dangle, dtipy_dangle);\n        dtip_dangle.push(angle_grad);\n    }\n    return dtip_dangle;\n}\nfunction loss_gradient(arm, target, loss) {\n    var tip = get_arm_tip_pos(arm);\n    var dloss_dtip = Losses.get_loss_gradient(loss)(tip, target);\n    var change = [];\n    for (var _i = 0, _a = angle_tip_gradient(arm); _i < _a.length; _i++) {\n        var angle = _a[_i];\n        var acc = 0;\n        acc += dloss_dtip.x * angle.x;\n        acc += dloss_dtip.y * angle.y;\n        change.push(acc);\n    }\n    return change;\n}\nvar l_obj = /** @class */ (function () {\n    function l_obj() {\n        this.loss = \"L2_squared\";\n        this.loss_func = Losses.get_loss(\"L2_squared\");\n        this.loss_gradient_func = Losses.get_loss_gradient(\"L2_squared\");\n    }\n    return l_obj;\n}());\nexports.l_obj = l_obj;\nexports.current_loss = new l_obj();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.perform_gradient_mode_loop = exports.perform_gradient_mode_setup = void 0;\nvar app_1 = require(\"./app\");\nvar arm_1 = require(\"./arm\");\nvar input_1 = require(\"./input\");\nvar plotlib_1 = require(\"./plotlib\");\nvar settings_1 = require(\"./settings\");\nvar utils_1 = require(\"./utils\");\nvar v2_1 = require(\"./v2\");\nfunction perform_gradient_mode_setup() {\n}\nexports.perform_gradient_mode_setup = perform_gradient_mode_setup;\nfunction perform_gradient_mode_loop() {\n    app_1.arm_coord.clear();\n    app_1.loss_highres_coord.clear();\n    app_1.loss_heatmap_coord.heatmap(angles_2_to_loss, plotlib_1.matplotlib_cmap, settings_1.toggle_level_set.checked, settings_1.level_set_scale, settings_1.level_set_offset);\n    var state = new v2_1.v2((0, utils_1.mod)(arm_1.current_arm.arm.segments[settings_1.x_axis_index].angle, (2 * Math.PI)), (0, utils_1.mod)(arm_1.current_arm.arm.segments[settings_1.y_axis_index].angle, (2 * Math.PI)));\n    app_1.loss_highres_coord.circle(state, 0.2, [255, 0, 0]);\n    (0, input_1.handle_input)();\n    app_1.arm_coord.ctx.fillText(\"loss: \".concat(arm_1.current_loss.loss_func(arm_1.current_arm.arm, app_1.arm_tip_target).toFixed(2)), 10, 10);\n    // add each gradient to the corresponding angle\n    (0, arm_1.perform_arm_gradient_step)(arm_1.current_arm.arm, app_1.arm_tip_target, arm_1.current_loss.loss, 0.01);\n    if (app_1.state_trail.update(state)) {\n        app_1.tip_trail.update((0, arm_1.get_arm_tip_pos)(arm_1.current_arm.arm));\n    }\n    app_1.tip_trail.draw(app_1.arm_coord, [128, 50, 128]);\n    app_1.state_trail.draw(app_1.loss_highres_coord, [255, 0, 0]);\n    app_1.arm_coord.circle(app_1.arm_tip_target, 0.5, [128, 50, 128]);\n    (0, arm_1.drawArm)(app_1.arm_coord, arm_1.current_arm.arm, [0, 0, 0]);\n}\nexports.perform_gradient_mode_loop = perform_gradient_mode_loop;\nvar angles_2_to_loss = function (x, y) {\n    var arm_copy = (0, arm_1.copy_arm)(arm_1.current_arm.arm);\n    arm_copy.segments[settings_1.x_axis_index].angle = x;\n    arm_copy.segments[settings_1.y_axis_index].angle = y;\n    return arm_1.current_loss.loss_func(arm_copy, app_1.arm_tip_target);\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.input = exports.handle_input = void 0;\nvar app_1 = require(\"./app\");\nvar arm_1 = require(\"./arm\");\nvar settings_1 = require(\"./settings\");\nfunction handle_input() {\n    if (exports.input.ArrowRight) {\n        arm_1.current_arm.arm.segments[settings_1.x_axis_index].angle += 4 * Math.PI / 180;\n    }\n    if (exports.input.ArrowLeft) {\n        arm_1.current_arm.arm.segments[settings_1.x_axis_index].angle -= 4 * Math.PI / 180;\n    }\n    if (exports.input.ArrowUp) {\n        arm_1.current_arm.arm.segments[settings_1.y_axis_index].angle += 4 * Math.PI / 180;\n    }\n    if (exports.input.ArrowDown) {\n        arm_1.current_arm.arm.segments[settings_1.y_axis_index].angle -= 4 * Math.PI / 180;\n    }\n    if (exports.input.w) {\n        app_1.arm_tip_target.y += 0.25;\n        app_1.arm_tip_target.y = Math.min(app_1.arm_tip_target.y, app_1.arm_coord.yMax);\n    }\n    if (exports.input.s) {\n        app_1.arm_tip_target.y -= 0.25;\n        app_1.arm_tip_target.y = Math.max(app_1.arm_tip_target.y, app_1.arm_coord.yMin);\n    }\n    if (exports.input.a) {\n        app_1.arm_tip_target.x -= 0.25;\n        app_1.arm_tip_target.x = Math.max(app_1.arm_tip_target.x, app_1.arm_coord.xMin);\n    }\n    if (exports.input.d) {\n        app_1.arm_tip_target.x += 0.25;\n        app_1.arm_tip_target.x = Math.min(app_1.arm_tip_target.x, app_1.arm_coord.xMax);\n    }\n}\nexports.handle_input = handle_input;\nexports.input = {\n    ArrowUp: false,\n    ArrowDown: false,\n    ArrowLeft: false,\n    ArrowRight: false,\n    w: false,\n    s: false,\n    a: false,\n    d: false,\n    LeftMouse: false\n};\ndocument.addEventListener('keydown', function (event) {\n    if (event.key in exports.input) {\n        exports.input[event.key] = true;\n        event.preventDefault();\n    }\n});\ndocument.addEventListener('keyup', function (event) {\n    if (event.key in exports.input) {\n        exports.input[event.key] = false;\n        event.preventDefault();\n    }\n});\ndocument.addEventListener('mousedown', function (event) {\n    if (event.button == 0) {\n        exports.input.LeftMouse = true;\n    }\n});\ndocument.addEventListener('mouseup', function (event) {\n    if (event.button == 0) {\n        exports.input.LeftMouse = false;\n    }\n});\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RectangleObstacle = exports.CircleObstacle = exports.Obstacle = void 0;\nvar v2_1 = require(\"./v2\");\nvar Obstacle = /** @class */ (function () {\n    function Obstacle() {\n        this.bbox = null;\n    }\n    Obstacle.prototype.get_AABB = function () {\n        if (this.bbox != null) {\n            return this.bbox;\n        }\n        else {\n            this.bbox = this.calculate_AABB();\n            return this.bbox;\n        }\n    };\n    Obstacle.prototype.contains = function (point) {\n        var _a = this.get_AABB(), min = _a[0], max = _a[1];\n        if (point.x >= min.x && point.x <= max.x && point.y >= min.y && point.y <= max.y) {\n            return this.query(point);\n        }\n        else {\n            return false;\n        }\n    };\n    return Obstacle;\n}());\nexports.Obstacle = Obstacle;\nvar CircleObstacle = /** @class */ (function (_super) {\n    __extends(CircleObstacle, _super);\n    function CircleObstacle(pos, radius) {\n        var _this = _super.call(this) || this;\n        _this.pos = pos;\n        _this.radius = radius;\n        return _this;\n    }\n    CircleObstacle.prototype.query = function (point) {\n        return this.pos.distance(point) <= this.radius;\n    };\n    CircleObstacle.prototype.calculate_AABB = function () {\n        return [this.pos.sub(new v2_1.v2(this.radius, this.radius)), this.pos.add(new v2_1.v2(this.radius, this.radius))];\n    };\n    CircleObstacle.prototype.draw = function (coords, color) {\n        coords.circle(this.pos, this.radius, color);\n    };\n    return CircleObstacle;\n}(Obstacle));\nexports.CircleObstacle = CircleObstacle;\nvar RectangleObstacle = /** @class */ (function (_super) {\n    __extends(RectangleObstacle, _super);\n    function RectangleObstacle(pos, size) {\n        var _this = _super.call(this) || this;\n        _this.pos = pos;\n        _this.size = size;\n        return _this;\n    }\n    RectangleObstacle.prototype.query = function (point) {\n        return true;\n    };\n    RectangleObstacle.prototype.calculate_AABB = function () {\n        return [this.pos, this.pos.add(this.size)];\n    };\n    RectangleObstacle.prototype.draw = function (coords, color) {\n        // coords.rectangle(this.pos, this.size, color);\n        throw new Error(\"Method not implemented.\");\n    };\n    return RectangleObstacle;\n}(Obstacle));\nexports.RectangleObstacle = RectangleObstacle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.coordinateSystem = exports.matplotlib_cmap = void 0;\nvar v2_1 = require(\"./v2\");\nfunction linearColorMap(startColor, endColor, startVal, endVal) {\n    function lerpColor(a, b, t) {\n        return [\n            Math.round((1 - t) * a[0] + t * b[0]),\n            Math.round((1 - t) * a[1] + t * b[1]),\n            Math.round((1 - t) * a[2] + t * b[2]),\n        ];\n    }\n    return function (value) {\n        value = Math.min(endVal, Math.max(startVal, value)); // clamp between start and end val\n        var t = (value - startVal) / (endVal - startVal); // Normalize value to [0, 1]\n        return lerpColor(startColor, endColor, t);\n    };\n}\nexports.matplotlib_cmap = linearColorMap([128 / 2, 50 / 2, 128 / 2], [242, 255, 50], 0, 1);\nvar coordinateSystem = /** @class */ (function () {\n    function coordinateSystem(canvas, xMin, xMax, yMin, yMax, resolution) {\n        var _this = this;\n        this.axes_canvas = null;\n        this.axes_coords = null;\n        this.last_mouse_pos = new v2_1.v2(0, 0);\n        this.mouse_within_bounds = false;\n        this.is_overlay_on = null;\n        this.needs_axes = false;\n        this.axes_resolution = 1;\n        this.axis_names = [\"x\", \"y\"];\n        this.canvas = canvas;\n        this.ctx = canvas.getContext('2d');\n        this.xMin = xMin;\n        this.xMax = xMax;\n        this.yMin = yMin;\n        this.yMax = yMax;\n        var width = this.canvas.width;\n        var height = this.canvas.height;\n        this.canvas.style.width = width + \"px\";\n        this.canvas.style.height = height + \"px\";\n        this.canvas.width = Math.floor(width * resolution);\n        this.canvas.height = Math.floor(height * resolution);\n        this.scale = width / Math.floor(width * resolution);\n        this.canvas.addEventListener('mousemove', function (e) {\n            _this.last_mouse_pos = _this.world_to_point(new v2_1.v2(e.clientX, e.clientY));\n        });\n        this.canvas.addEventListener('mouseenter', function (e) {\n            _this.mouse_within_bounds = true;\n        });\n        this.canvas.addEventListener('mouseleave', function (e) {\n            _this.mouse_within_bounds = false;\n        });\n        window.addEventListener('resize', this.on_resize.bind(this));\n    }\n    coordinateSystem.prototype.on_resize = function () {\n        var _a, _b;\n        if (this.is_overlay_on) { // fit to the canvas we are on top of\n            var coord = this.is_overlay_on;\n            this.canvas.style.position = 'absolute';\n            // this.canvas.width = coord.canvas.width;\n            // this.canvas.height = coord.canvas.height;\n            this.canvas.style.width = coord.canvas.style.width;\n            this.canvas.style.height = coord.canvas.style.height;\n            this.canvas.style.left = (coord.canvas.offsetLeft).toString() + \"px\";\n            this.canvas.style.top = (coord.canvas.offsetTop).toString() + \"px\";\n            this.canvas.style.pointerEvents = 'none';\n            this.canvas.style.zIndex = (parseInt(coord.canvas.style.zIndex) + 1).toString();\n            this.canvas.style.imageRendering = 'optimize-contrast';\n        }\n        if (this.needs_axes) { // draw axes\n            (_a = this.axes_canvas) === null || _a === void 0 ? void 0 : _a.remove();\n            this.axes_coords = null;\n            this.axes_canvas = document.createElement('canvas');\n            this.axes_canvas.style.position = 'absolute';\n            var diff = 1.4;\n            this.axes_canvas.width = Math.round(diff * this.canvas.width * this.scale * this.axes_resolution);\n            this.axes_canvas.height = Math.round(diff * this.canvas.height * this.scale * this.axes_resolution);\n            var width_change = 0.5 * (diff - 1) * (this.xMax - this.xMin);\n            var height_change = 0.5 * (diff - 1) * (this.yMax - this.yMin);\n            this.axes_coords = new coordinateSystem(this.axes_canvas, this.xMin - width_change, this.xMax + width_change, this.yMin - height_change, this.yMax + height_change, 1);\n            this.axes_canvas.style.width = Math.round((parseInt(this.canvas.style.width) * diff)).toString() + \"px\";\n            this.axes_canvas.style.height = Math.round((parseInt(this.canvas.style.height) * diff)).toString() + \"px\";\n            this.axes_canvas.style.left = (this.canvas.offsetLeft - this.canvas.width * this.scale * (diff - 1) * 0.5).toString() + \"px\";\n            this.axes_canvas.style.top = (this.canvas.offsetTop - this.canvas.height * this.scale * (diff - 1) * 0.5).toString() + \"px\";\n            this.axes_canvas.style.pointerEvents = 'none';\n            this.axes_canvas.style.zIndex = (parseInt(this.canvas.style.zIndex) + 1).toString();\n            this.axes_canvas.style.imageRendering = 'optimize-contrast';\n            (_b = this.canvas.parentElement) === null || _b === void 0 ? void 0 : _b.appendChild(this.axes_canvas);\n            var axes_ctx = this.axes_canvas.getContext('2d');\n            // axes_ctx.rect(0, 0, this.axes_canvas.width, this.axes_canvas.height);\n            // axes_ctx.stroke();\n            this.axes_coords.line(new v2_1.v2(this.xMin, 0), new v2_1.v2(this.xMax, 0), [0, 0, 0]);\n            this.axes_coords.line(new v2_1.v2(0, this.yMin), new v2_1.v2(0, this.yMax), [0, 0, 0]);\n            var fontsize = 35;\n            axes_ctx.font = \"\".concat(fontsize, \"px Times New Roman\");\n            axes_ctx.fillStyle = 'black';\n            var local_fontsize = 0.01 * fontsize * (this.xMax - this.xMin) / this.canvas.width;\n            var x_label_pos = new v2_1.v2(0.5, 0).scale(this.xMax);\n            var x_max_pos = new v2_1.v2(this.xMax, 0);\n            var x_min_pos = new v2_1.v2(this.xMin, 0);\n            var x_offset = new v2_1.v2(0, fontsize * 0.8);\n            var y_label_pos = new v2_1.v2(0, 0.5).scale(this.yMax);\n            var y_max_pos = new v2_1.v2(0, this.yMax);\n            var y_min_pos = new v2_1.v2(0, this.yMin);\n            var y_offset = new v2_1.v2(-fontsize * 0.2, 0);\n            var col = [0, 0, 0];\n            this.axes_coords.draw_text(this.axis_names[0], x_label_pos, 0, col, \"center\", x_offset);\n            this.axes_coords.draw_text(this.xMax.toFixed(2), x_max_pos, 0, col, \"end\", x_offset);\n            this.axes_coords.draw_text(this.xMin.toFixed(2), x_min_pos, 0, col, \"start\", x_offset);\n            this.axes_coords.draw_text(this.axis_names[1].toString(), y_label_pos, Math.PI / 2, [255, 0, 0], \"center\", y_offset);\n            this.axes_coords.draw_text(this.yMax.toFixed(2).toString(), y_max_pos, Math.PI / 2, [255, 0, 0], \"end\", y_offset);\n            this.axes_coords.draw_text(this.yMin.toFixed(2).toString(), y_min_pos, Math.PI / 2, [255, 0, 0], \"start\", y_offset);\n        }\n    };\n    coordinateSystem.prototype.clear = function () {\n        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    };\n    coordinateSystem.prototype.set_as_overlay_on = function (coord) {\n        this.is_overlay_on = coord;\n        this.on_resize();\n    };\n    coordinateSystem.prototype.draw_text = function (text, pos, rad_angle, color, textAlign, pixel_offset) {\n        if (textAlign === void 0) { textAlign = \"center\"; }\n        if (pixel_offset === void 0) { pixel_offset = new v2_1.v2(0, 0); }\n        var pixel_pos = this.point_to_pixel(pos);\n        // this.ctx.fillStyle = `rgb(${color[0]}, ${color[1]}, ${color[2]})`;\n        this.ctx.textAlign = textAlign;\n        this.ctx.translate(pixel_pos.x + pixel_offset.x, pixel_pos.y + pixel_offset.y);\n        this.ctx.rotate(-rad_angle);\n        this.ctx.fillText(text, 0, 0);\n        this.ctx.rotate(rad_angle);\n        this.ctx.translate(-pixel_pos.x - pixel_offset.x, -pixel_pos.y - pixel_offset.y);\n    };\n    coordinateSystem.prototype.point_to_pixel = function (point) {\n        var xPixel = (point.x - this.xMin) / (this.xMax - this.xMin) * this.ctx.canvas.width;\n        var yPixel = (this.yMax - point.y) / (this.yMax - this.yMin) * this.ctx.canvas.height;\n        return new v2_1.v2(xPixel, yPixel);\n    };\n    coordinateSystem.prototype.line = function (p1, p2, color) {\n        var pp1 = this.point_to_pixel(p1);\n        var pp2 = this.point_to_pixel(p2);\n        this.ctx.strokeStyle = \"rgb(\".concat(color[0], \", \").concat(color[1], \", \").concat(color[2], \")\");\n        this.ctx.beginPath();\n        this.ctx.moveTo(pp1.x, pp1.y);\n        this.ctx.lineTo(pp2.x, pp2.y);\n        this.ctx.stroke();\n    };\n    coordinateSystem.prototype.circle = function (p, r, color) {\n        this.ctx.strokeStyle = \"rgb(\".concat(color[0], \", \").concat(color[1], \", \").concat(color[2], \")\");\n        var pp = this.point_to_pixel(p);\n        this.ctx.beginPath();\n        var radius_in_pixels = r / (this.xMax - this.xMin) * this.ctx.canvas.width;\n        this.ctx.arc(pp.x, pp.y, radius_in_pixels, 0, 2 * Math.PI);\n        this.ctx.stroke();\n    };\n    coordinateSystem.prototype.addAxes = function (resolution) {\n        this.needs_axes = true;\n        this.axes_resolution = resolution;\n        this.on_resize();\n    };\n    coordinateSystem.prototype.world_to_point = function (mousePos) {\n        var xRange = this.xMax - this.xMin;\n        var yRange = this.yMax - this.yMin;\n        var rect = this.canvas.getBoundingClientRect();\n        var x = (mousePos.x - rect.left) / this.canvas.width * xRange / this.scale + this.xMin;\n        var y = (rect.bottom - mousePos.y) / this.canvas.height * yRange / this.scale + this.yMin;\n        return new v2_1.v2(x, y);\n    };\n    coordinateSystem.prototype.heatmap = function (func, colorMap, level_set, level_set_scale, level_set_offset) {\n        var all_data = Array(this.canvas.width * this.canvas.height * 4);\n        var min = Infinity;\n        var max = -Infinity;\n        // calculate all the values\n        var xRange = this.xMax - this.xMin;\n        var yRange = this.yMax - this.yMin;\n        for (var j = 0; j < this.canvas.height; j++) {\n            for (var i = 0; i < this.canvas.width; i++) {\n                var x = this.xMin + ((0.5 + i) / this.canvas.width) * xRange;\n                var y = this.yMax - ((0.5 + j) / this.canvas.height) * yRange;\n                var value = func(x, y);\n                all_data[i + j * this.canvas.width] = value;\n                min = Math.min(min, value);\n                max = Math.max(max, value);\n            }\n        }\n        // normalize the values and draw\n        var span = max - min;\n        var imageData = this.ctx.createImageData(this.canvas.width, this.canvas.height);\n        var data = imageData.data;\n        for (var j = 0; j < this.canvas.height; j++) {\n            for (var i = 0; i < this.canvas.width; i++) {\n                var color = [0, 0, 0];\n                if (level_set) {\n                    var level_data = all_data[i + j * this.canvas.width] * level_set_scale + level_set_offset;\n                    color = colorMap((0.5 * (Math.sin(level_data) + 1)));\n                }\n                else {\n                    var normalized_data = (all_data[i + j * this.canvas.width] - min) / span;\n                    color = colorMap(normalized_data);\n                }\n                var index = (j * this.canvas.width + i) * 4;\n                var r = color[0], g = color[1], b = color[2];\n                data[index + 0] = r;\n                data[index + 1] = g;\n                data[index + 2] = b;\n                data[index + 3] = 255;\n            }\n        }\n        this.ctx.putImageData(imageData, 0, 0);\n    };\n    return coordinateSystem;\n}());\nexports.coordinateSystem = coordinateSystem;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RRTStar = exports.Tree = void 0;\nvar utils_1 = require(\"./utils\");\nvar v2_1 = require(\"./v2\");\nvar TreeNode = /** @class */ (function () {\n    function TreeNode(pos, parent, cost) {\n        this.pos = pos;\n        this.parent = parent;\n        this.cost = cost;\n    }\n    return TreeNode;\n}());\nvar Tree = /** @class */ (function () {\n    function Tree() {\n        this.nodes = [];\n    }\n    Tree.prototype.addNode = function (point, parent, dist) {\n        var newcost = (parent ? parent.cost : 0) + dist;\n        var node = new TreeNode(point, parent, newcost);\n        this.nodes.push(node);\n        return node;\n    };\n    Tree.prototype.getRandomNode = function () {\n        var randomIndex = Math.floor(Math.random() * this.nodes.length);\n        return this.nodes[randomIndex];\n    };\n    Tree.prototype.getNodeCount = function () {\n        return this.nodes.length;\n    };\n    return Tree;\n}());\nexports.Tree = Tree;\nvar RRTStar = /** @class */ (function () {\n    function RRTStar(start, stepSize) {\n        this.point_collides = function () { return false; };\n        this.goal_reached = function () { return false; };\n        this.minX = -10;\n        this.maxX = 10;\n        this.minY = -10;\n        this.maxY = 10;\n        this.goalnode = null;\n        this.star = true;\n        this.searchradius = 1;\n        this.finished = false;\n        this.exploration_target = null;\n        this.go_to_target = false;\n        this.tree = new Tree();\n        this.tree.addNode(start, null, 0);\n        this.stepSize = stepSize;\n    }\n    RRTStar.prototype.generateRRTStar = function (maxIterations) {\n        for (var i = 0; i < maxIterations; i++) {\n            if (this.goalnode == null && this.finished) { // the first time we find the goal, we stop. Later we continue to find a better path\n                break;\n            }\n            var randomPoint = void 0;\n            // if (this.exploration_target != null && Math.random() < 0.1) {\n            //     randomPoint = this.exploration_target;\n            // } else {\n            // }\n            randomPoint = this.generateRandomPoint();\n            var _a = this.findNearestNode(randomPoint), nearestNode = _a[0], dist1 = _a[1];\n            var _b = this.extend(nearestNode.pos, randomPoint, this.stepSize, dist1), newPoint = _b[0], dist2 = _b[1];\n            if (newPoint && this.point_collides(newPoint) == false) {\n                newPoint = newPoint;\n                var newNode = void 0;\n                var success = false;\n                if (this.star) {\n                    var nearbyNodes = this.findNearbyNodes(newPoint);\n                    // sort by cost, in ascending order\n                    nearbyNodes.sort(function (a, b) { return a[0].cost + a[1] - (b[0].cost + b[1]); });\n                    for (var _i = 0, nearbyNodes_1 = nearbyNodes; _i < nearbyNodes_1.length; _i++) {\n                        var _c = nearbyNodes_1[_i], nearby_node = _c[0], dist = _c[1];\n                        if (this.check_line_collides(nearby_node.pos, newPoint)) {\n                            continue;\n                        }\n                        newNode = this.tree.addNode(newPoint, nearby_node, dist);\n                        this.rewire(newNode, nearbyNodes);\n                        success = true;\n                        break;\n                    }\n                }\n                else {\n                    if (this.check_line_collides(nearestNode.pos, newPoint)) {\n                        continue;\n                    }\n                    newNode = this.tree.addNode(newPoint, nearestNode, dist2);\n                    success = true;\n                }\n                if (success && this.goal_reached(newPoint)) {\n                    this.goalnode = this.tree.nodes[this.tree.nodes.length - 1];\n                    this.finished = true;\n                    break;\n                }\n            }\n        }\n        return this.tree;\n    };\n    RRTStar.prototype.generateRandomPoint = function () {\n        var x = Math.random() * (this.maxX - this.minX) + this.minX;\n        var y = Math.random() * (this.maxY - this.minY) + this.minY;\n        return new v2_1.v2(x, y);\n    };\n    RRTStar.prototype.findNearestNode = function (point) {\n        var nearestNode = null;\n        var nearestDistance = Infinity;\n        for (var _i = 0, _a = this.tree.nodes; _i < _a.length; _i++) {\n            var node = _a[_i];\n            var distance = (0, utils_1.angledistance_2d)(node.pos, point);\n            if (distance < nearestDistance) {\n                nearestNode = node;\n                nearestDistance = distance;\n            }\n        }\n        return [nearestNode, nearestDistance];\n    };\n    RRTStar.prototype.extend = function (from, to, stepSize, dist) {\n        if (dist <= stepSize) {\n            return [to, dist];\n        }\n        var dir = (0, utils_1.angle_diff)(from, to).normalize().scale(stepSize);\n        var newX = (0, utils_1.mod)(from.x + dir.x, Math.PI * 2);\n        var newY = (0, utils_1.mod)(from.y + dir.y, Math.PI * 2);\n        return [new v2_1.v2(newX, newY), stepSize];\n    };\n    RRTStar.prototype.re_check_solution_found = function () {\n        if (this.goalnode == null) {\n            for (var _i = 0, _a = this.tree.nodes.sort(function (a, b) { return Math.random() - 0.5; }); _i < _a.length; _i++) {\n                var node = _a[_i];\n                if (this.goal_reached(node.pos)) {\n                    this.goalnode = node;\n                    this.finished = true;\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    RRTStar.prototype.rewire = function (newNode, nearbyNodes) {\n        for (var _i = 0, nearbyNodes_2 = nearbyNodes; _i < nearbyNodes_2.length; _i++) {\n            var _a = nearbyNodes_2[_i], nearby_node = _a[0], dist = _a[1];\n            // the root node has no parent\n            if (nearby_node.parent == null) {\n                continue;\n            }\n            if (newNode.cost + dist < nearby_node.cost) {\n                // check collision\n                if (this.check_line_collides(nearby_node.pos, newNode.pos)) {\n                    continue;\n                }\n                // this.finished = true;\n                nearby_node.parent = newNode;\n                nearby_node.cost = newNode.cost + dist;\n                // break;\n            }\n        }\n    };\n    RRTStar.prototype.findNearbyNodes = function (point) {\n        var nearby_nodes = [];\n        for (var _i = 0, _a = this.tree.nodes; _i < _a.length; _i++) {\n            var node = _a[_i];\n            var distance = (0, utils_1.angledistance_2d)(node.pos, point);\n            if (distance <= this.searchradius) {\n                nearby_nodes.push([node, distance]);\n            }\n        }\n        return nearby_nodes;\n    };\n    RRTStar.prototype.drawtree = function (coords) {\n        for (var i = 0; i < this.tree.nodes.length; i++) {\n            var node = this.tree.nodes[i];\n            if (node.parent) {\n                var dir = (0, utils_1.angle_diff)(node.pos, node.parent.pos);\n                // random color:\n                var part = 100;\n                var v2_2 = 200;\n                var v = 255 - part + part * Math.random();\n                var color = [(2000 * node.cost % 255) * 100 / 255, (2000 * node.cost % 255) * 100 / 255, 2000 * node.cost % 255];\n                color = [100, 100, (2000 * node.cost) % 255];\n                coords.line(node.pos, node.pos.add(dir), color);\n                coords.line(node.parent.pos, node.parent.pos.sub(dir), color);\n                // coords.draw_text(`${i}, ${node.cost.toFixed(1)}`, node.pos, 0, [0, 0, 0], \"center\", new v2(0, 10))\n                // coords.draw_text(`${i}`, node.pos, 0, [0, 0, 255], \"center\", new v2(0, 10))\n            }\n            // coords.circle(node.pos, this.stepSize / 5, [255, 0, 0]);\n        }\n    };\n    RRTStar.prototype.get_shortest_path = function () {\n        if (this.goalnode == null) {\n            return [];\n        }\n        var path = [];\n        var node = this.goalnode;\n        while (node) {\n            path.push(node.pos);\n            node = node.parent;\n        }\n        return path.reverse();\n    };\n    RRTStar.prototype.check_line_collides = function (from, to) {\n        var dir = (0, utils_1.angle_diff)(from, to);\n        var steps = Math.ceil(dir.magnitude / this.stepSize);\n        var step = dir.scale(1 / steps);\n        var pos = from;\n        var i = 0;\n        var points = [];\n        while (i < steps) {\n            i++;\n            pos = pos.add(step);\n            if (is_within_angle(pos) == false) {\n                pos = to;\n                step.scale(-1);\n            }\n            points.push(pos.copy());\n        }\n        for (var _i = 0, _a = points.sort(function (a, b) { return Math.random() - 0.5; }); _i < _a.length; _i++) {\n            var point = _a[_i];\n            if (this.point_collides(point)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return RRTStar;\n}());\nexports.RRTStar = RRTStar;\nfunction is_within_angle(p) {\n    return (p.x >= 0 && p.y >= 0) && (p.x <= Math.PI * 2 && p.y <= Math.PI * 2);\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.perform_rrt_mode_loop = exports.perform_rrt_mode_setdown = exports.perform_rrt_mode_setup = void 0;\nvar app_1 = require(\"./app\");\nvar arm_1 = require(\"./arm\");\nvar input_1 = require(\"./input\");\nvar obstacles_1 = require(\"./obstacles\");\nvar plotlib_1 = require(\"./plotlib\");\nvar rrt_1 = require(\"./rrt\");\nvar settings_1 = require(\"./settings\");\nvar utils_1 = require(\"./utils\");\nvar v2_1 = require(\"./v2\");\nvar rrt_container = new rrt_1.RRTStar(v2_1.v2.zero(), 0.0);\nvar obstacles = [];\nfunction perform_rrt_mode_setup() {\n    obstacles.pop();\n    obstacles.pop();\n    obstacles.pop();\n    obstacles.push(new obstacles_1.CircleObstacle(new v2_1.v2(5, 5), 1));\n    obstacles.push(new obstacles_1.CircleObstacle(new v2_1.v2(-3.5, 3.5), 2));\n    obstacles.push(new obstacles_1.CircleObstacle(new v2_1.v2(3, -7), 2));\n    app_1.loss_heatmap_coord.heatmap(function (x, y) { return angles_2_to_collision(x, y) ? 1 : 0; }, plotlib_1.matplotlib_cmap, settings_1.toggle_level_set.checked, settings_1.level_set_scale, settings_1.level_set_offset);\n    rrt_goal = app_1.arm_tip_target;\n    app_1.arm_coord.canvas.addEventListener(\"mousedown\", reset_rrt_on_click);\n    make_tree_slow();\n}\nexports.perform_rrt_mode_setup = perform_rrt_mode_setup;\nfunction perform_rrt_mode_setdown() {\n    app_1.arm_coord.canvas.removeEventListener(\"mousedown\", reset_rrt_on_click);\n}\nexports.perform_rrt_mode_setdown = perform_rrt_mode_setdown;\nvar rrt_goal = app_1.arm_tip_target;\nfunction reset_rrt_on_click() {\n    rrt_goal = app_1.arm_coord.last_mouse_pos;\n    var state = new v2_1.v2((0, utils_1.mod)(arm_1.current_arm.arm.segments[settings_1.x_axis_index].angle, (2 * Math.PI)), (0, utils_1.mod)(arm_1.current_arm.arm.segments[settings_1.y_axis_index].angle, (2 * Math.PI)));\n    var start = state;\n    var stepSize = 0.2;\n    rrt_container = new rrt_1.RRTStar(start, stepSize);\n    rrt_container.maxX = 2 * Math.PI;\n    rrt_container.maxY = 2 * Math.PI;\n    rrt_container.minX = 0;\n    rrt_container.minY = 0;\n    rrt_container.star = true;\n    rrt_container.searchradius = 0.5;\n    rrt_container.point_collides = function (angles) { return angles_2_to_collision(angles.x, angles.y); };\n    rrt_container.goal_reached = function (angles) {\n        var copy = (0, arm_1.copy_arm)(arm_1.current_arm.arm);\n        copy.segments[settings_1.x_axis_index].angle = angles.x;\n        copy.segments[settings_1.y_axis_index].angle = angles.y;\n        var tip = (0, arm_1.get_arm_tip_pos)(copy);\n        var dist = tip.sub(rrt_goal).magnitude;\n        return dist < 0.5;\n    };\n    app_1.tip_trail.points = [];\n    app_1.state_trail.points = [];\n}\n// Generate RRT* tree\nvar maxIterations = 1;\nvar last_valid_state = { segments: [], pos: v2_1.v2.zero() };\nfunction perform_rrt_mode_loop() {\n    return __awaiter(this, void 0, void 0, function () {\n        var state, _i, obstacles_2, o, collided;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (rrt_container.finished == false) {\n                        app_1.loss_highres_coord.clear();\n                        // draw tree\n                        rrt_container.drawtree(app_1.loss_highres_coord);\n                    }\n                    app_1.arm_coord.clear();\n                    state = new v2_1.v2((0, utils_1.mod)(arm_1.current_arm.arm.segments[settings_1.x_axis_index].angle, (2 * Math.PI)), (0, utils_1.mod)(arm_1.current_arm.arm.segments[settings_1.y_axis_index].angle, (2 * Math.PI)));\n                    app_1.loss_highres_coord.circle(state, 0.2, [255, 0, 0]);\n                    (0, input_1.handle_input)();\n                    for (_i = 0, obstacles_2 = obstacles; _i < obstacles_2.length; _i++) {\n                        o = obstacles_2[_i];\n                        o.draw(app_1.arm_coord, [0, 0, 0]);\n                    }\n                    last_valid_state = (0, arm_1.copy_arm)(arm_1.current_arm.arm);\n                    collided = angles_2_to_collision(arm_1.current_arm.arm.segments[settings_1.x_axis_index].angle, arm_1.current_arm.arm.segments[settings_1.y_axis_index].angle);\n                    if (collided) {\n                        arm_1.current_arm.arm = collided ? (0, arm_1.copy_arm)(last_valid_state) : arm_1.current_arm.arm;\n                    }\n                    if (app_1.state_trail.update(state)) {\n                        app_1.tip_trail.update((0, arm_1.get_arm_tip_pos)(arm_1.current_arm.arm));\n                    }\n                    app_1.tip_trail.draw(app_1.arm_coord, [128, 50, 128]);\n                    app_1.state_trail.draw(app_1.loss_highres_coord, [255, 0, 0]);\n                    app_1.arm_coord.circle(app_1.arm_tip_target, 0.5, [128, 50, 128]);\n                    (0, arm_1.drawArm)(app_1.arm_coord, arm_1.current_arm.arm, collided ? [255, 0, 0] : [0, 0, 0]);\n                    return [4 /*yield*/, (0, utils_1.delay)(10)];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nexports.perform_rrt_mode_loop = perform_rrt_mode_loop;\nfunction make_tree_slow() {\n    return __awaiter(this, void 0, void 0, function () {\n        var path, i, dir;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!(rrt_container.finished == false)) return [3 /*break*/, 2];\n                    if (input_1.input.LeftMouse && app_1.loss_heatmap_coord.mouse_within_bounds) {\n                        rrt_container.exploration_target = app_1.loss_heatmap_coord.last_mouse_pos;\n                        // rrt_container.go_to_target = true;\n                    }\n                    else {\n                        // rrt_container.exploration_target = rrt_goal;\n                        // rrt_container.go_to_target = false;\n                    }\n                    rrt_container.generateRRTStar(maxIterations);\n                    return [4 /*yield*/, (0, utils_1.delay)(10)\n                        // run rrt for maxIterations steps\n                    ];\n                case 1:\n                    _a.sent();\n                    return [3 /*break*/, 0];\n                case 2:\n                    path = rrt_container.get_shortest_path();\n                    for (i = 0; i < path.length - 1; i++) {\n                        dir = (0, utils_1.angle_diff)(path[i], path[i + 1]);\n                        app_1.loss_highres_coord.line(path[i], path[i].add(dir), [255, 0, 0]);\n                        app_1.loss_highres_coord.line(path[i + 1], path[i + 1].sub(dir), [255, 0, 0]);\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nvar angles_2_to_collision = function (x, y) {\n    var arm_copy = (0, arm_1.copy_arm)(arm_1.current_arm.arm);\n    arm_copy.segments[settings_1.x_axis_index].angle = x;\n    arm_copy.segments[settings_1.y_axis_index].angle = y;\n    var arm_points = (0, arm_1.points_along_arm)(arm_copy, 1.0);\n    arm_points.sort(function (a, b) { return Math.random() - 0.5; }); // randomize order\n    var collided = false;\n    for (var _i = 0, arm_points_1 = arm_points; _i < arm_points_1.length; _i++) {\n        var p = arm_points_1[_i];\n        if (collided) {\n            break;\n        }\n        // arm_coord.circle(p, 0.1, [0, 255, 0])\n        for (var _a = 0, obstacles_3 = obstacles; _a < obstacles_3.length; _a++) {\n            var o = obstacles_3[_a];\n            if (o.contains(p)) {\n                collided = true;\n                break;\n            }\n        }\n    }\n    return collided;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.level_set_scale = exports.y_axis_index = exports.x_axis_index = exports.level_set_offset = exports.current_mode = exports.toggle_level_set = void 0;\nvar arm_1 = require(\"./arm\");\nvar gradient_mode_1 = require(\"./gradient_mode\");\nvar rrt_mode_1 = require(\"./rrt_mode\");\nvar mode_selector = document.getElementById('rrt_mode');\nvar dropdown = document.getElementById('select_loss');\nexports.toggle_level_set = document.getElementById('toggle_level_set');\nvar slider_level_set_scale = document.getElementById(\"slider_level_set_scale\");\nvar number_level_set_offset = document.getElementById(\"number_level_set_offset\");\nvar x_axis_index_input = document.getElementById(\"x_axis_index\");\nvar y_axis_index_input = document.getElementById(\"y_axis_index\");\nvar arm_amount_input = document.getElementById(\"arm_amount\");\nexports.toggle_level_set.addEventListener('change', function () {\n    var isDisabled = !exports.toggle_level_set.checked;\n    slider_level_set_scale.disabled = isDisabled;\n    number_level_set_offset.disabled = isDisabled;\n});\nslider_level_set_scale.disabled = true;\nnumber_level_set_offset.disabled = true;\nvar mode = /** @class */ (function () {\n    function mode() {\n        this.rrt = mode_selector.value == \"RRT\";\n    }\n    return mode;\n}());\nexports.current_mode = new mode();\nexports.level_set_offset = number_level_set_offset.valueAsNumber;\narm_amount_input.addEventListener(\"input\", function () {\n    var arm_amount = arm_amount_input.valueAsNumber;\n    (0, arm_1.makeArm)(arm_amount);\n    x_axis_index_input.max = (arm_amount - 2).toString();\n    y_axis_index_input.max = (arm_amount - 1).toString();\n    if (exports.x_axis_index > arm_amount - 2) {\n        exports.x_axis_index = arm_amount - 2;\n        x_axis_index_input.value = exports.x_axis_index.toString();\n    }\n    if (exports.y_axis_index > arm_amount - 1) {\n        exports.y_axis_index = arm_amount - 1;\n        y_axis_index_input.value = exports.y_axis_index.toString();\n    }\n    refresh_mode();\n});\nexports.x_axis_index = x_axis_index_input.valueAsNumber;\nx_axis_index_input.addEventListener(\"input\", function () {\n    exports.x_axis_index = x_axis_index_input.valueAsNumber;\n    if (exports.x_axis_index == exports.y_axis_index) {\n        exports.y_axis_index = exports.x_axis_index + 1;\n        y_axis_index_input.value = exports.y_axis_index.toString();\n    }\n    refresh_mode();\n});\nexports.y_axis_index = y_axis_index_input.valueAsNumber;\ny_axis_index_input.addEventListener(\"input\", function () {\n    exports.y_axis_index = y_axis_index_input.valueAsNumber;\n    if (exports.x_axis_index == exports.y_axis_index) {\n        exports.x_axis_index = exports.y_axis_index - 1;\n        x_axis_index_input.value = exports.x_axis_index.toString();\n    }\n    refresh_mode();\n});\nnumber_level_set_offset.addEventListener(\"input\", function () {\n    exports.level_set_offset = number_level_set_offset.valueAsNumber;\n});\nexports.level_set_scale = slider_level_set_scale.valueAsNumber;\nslider_level_set_scale.addEventListener(\"input\", function () {\n    exports.level_set_scale = slider_level_set_scale.valueAsNumber;\n});\nmode_selector.addEventListener('change', function (event) {\n    refresh_mode();\n});\nfunction refresh_mode() {\n    switch (mode_selector.value) {\n        case \"RRT\":\n            exports.current_mode.rrt = true;\n            (0, rrt_mode_1.perform_rrt_mode_setdown)();\n            (0, rrt_mode_1.perform_rrt_mode_setup)();\n            break;\n        case \"Gradient\":\n            exports.current_mode.rrt = false;\n            // perform_rrt_mode_setdown()\n            (0, gradient_mode_1.perform_gradient_mode_setup)();\n            break;\n        default:\n            console.log(\"Error: unknown mode: \" + mode_selector.value);\n            break;\n    }\n}\ndropdown.addEventListener('change', function (event) {\n    switch (dropdown.value) {\n        case \"L2 squared\":\n            arm_1.current_loss.loss = \"L2_squared\";\n            break;\n        case \"L2\":\n            arm_1.current_loss.loss = \"L2\";\n            break;\n        case \"L1\":\n            arm_1.current_loss.loss = \"L1\";\n            break;\n        case \"L1 squared\":\n            arm_1.current_loss.loss = \"L1_squared\";\n            break;\n        case \"Match Y\":\n            arm_1.current_loss.loss = \"Match_Y\";\n            break;\n        default:\n            console.log(\"Error: unknown loss type: \" + mode_selector.value);\n    }\n    arm_1.current_loss.loss_func = arm_1.Losses.get_loss(arm_1.current_loss.loss);\n    arm_1.current_loss.loss_gradient_func = arm_1.Losses.get_loss_gradient(arm_1.current_loss.loss);\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Trail = void 0;\nvar v2_1 = require(\"./v2\");\nvar Trail = /** @class */ (function () {\n    function Trail(max_points, min_dist, max_dist) {\n        this.points = [];\n        this.max_points = max_points;\n        this.min_dist = min_dist;\n        this.max_dist = max_dist;\n    }\n    Trail.prototype.update = function (pos) {\n        if (this.points.length > this.max_points) {\n            this.points.shift();\n        }\n        if (this.points.length == 0) {\n            this.points.push([pos, true]);\n            return true;\n        }\n        else {\n            var dist = v2_1.v2.distance(this.points[this.points.length - 1][0], pos);\n            if (dist > this.min_dist) {\n                this.points.push([pos, dist < this.max_dist]);\n                return true;\n            }\n        }\n        return false;\n    };\n    Trail.prototype.draw = function (coord, color) {\n        for (var i = 0; i < this.points.length - 1; i++) {\n            if (!this.points[i + 1][1]) {\n                continue;\n            }\n            var element = this.points[i][0];\n            var element2 = this.points[i + 1][0];\n            coord.line(element, element2, color);\n        }\n    };\n    return Trail;\n}());\nexports.Trail = Trail;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.angle_diff = exports.fastest_way_angle = exports.angledistance_2d = exports.delay = exports.mod = void 0;\nvar v2_1 = require(\"./v2\");\nfunction mod(n, m) {\n    return ((n % m) + m) % m;\n}\nexports.mod = mod;\nfunction delay(delayInMilliseconds) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, new Promise(function (resolve) { return setTimeout(resolve, delayInMilliseconds); })];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nexports.delay = delay;\nfunction angledistance_2d(a, b) {\n    var x_diff = Math.abs(fastest_way_angle(a.x, b.x));\n    var y_diff = Math.abs(fastest_way_angle(a.y, b.y));\n    return Math.sqrt(x_diff * x_diff + y_diff * y_diff);\n}\nexports.angledistance_2d = angledistance_2d;\nfunction fastest_way_angle(from, to) {\n    if (Math.abs(to - from) < Math.PI) {\n        return to - from;\n    }\n    else if (from < to) {\n        return to - (from + 2 * Math.PI);\n    }\n    else {\n        return to - (from - 2 * Math.PI);\n    }\n}\nexports.fastest_way_angle = fastest_way_angle;\nfunction angle_diff(from, to) {\n    return new v2_1.v2(fastest_way_angle(from.x, to.x), fastest_way_angle(from.y, to.y));\n}\nexports.angle_diff = angle_diff;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.v2 = void 0;\nvar v2 = /** @class */ (function () {\n    function v2(x, y) {\n        if (x === void 0) { x = 0; }\n        if (y === void 0) { y = 0; }\n        this.x = x;\n        this.y = y;\n    }\n    // basic vector arithmetic\n    v2.prototype.add = function (other) {\n        return new v2(this.x + other.x, this.y + other.y);\n    };\n    v2.prototype.sub = function (other) {\n        return new v2(this.x - other.x, this.y - other.y);\n    };\n    v2.prototype.scale = function (scalar) {\n        return new v2(this.x * scalar, this.y * scalar);\n    };\n    Object.defineProperty(v2.prototype, \"magnitude\", {\n        // vector magnitude and normalization\n        get: function () {\n            return Math.sqrt(Math.pow(this.x, 2) + Math.pow(this.y, 2));\n        },\n        enumerable: false,\n        configurable: true\n    });\n    v2.prototype.copy = function () {\n        return new v2(this.x, this.y);\n    };\n    v2.prototype.normalize = function () {\n        var magnitude = this.magnitude;\n        return new v2(this.x / magnitude, this.y / magnitude);\n    };\n    // dot product and angle calculation\n    v2.prototype.dot = function (other) {\n        return this.x * other.x + this.y * other.y;\n    };\n    v2.prototype.distance = function (other) {\n        return v2.distance(this, other);\n    };\n    v2.prototype.angle = function (other) {\n        var dotProduct = this.dot(other);\n        var cosAngle = dotProduct / (this.magnitude * other.magnitude);\n        return Math.acos(cosAngle);\n    };\n    // static vector operations\n    v2.fromPolar = function (angle, magnitude) {\n        var x = magnitude * Math.cos(angle);\n        var y = magnitude * Math.sin(angle);\n        return new v2(x, y);\n    };\n    v2.zero = function () {\n        return new v2();\n    };\n    v2.distance = function (a, b) {\n        return a.sub(b).magnitude;\n    };\n    return v2;\n}());\nexports.v2 = v2;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(752);\n"],"names":["__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","Object","defineProperty","exports","state_trail","tip_trail","arm_tip_target","loss_highres_coord","loss_heatmap_coord","arm_coord","plotlib_1","input_1","arm_1","settings_1","trail_1","v2_1","gradient_mode_1","rrt_mode_1","arm_canvas","document","getElementById","loss_heatmap_canvas","loss_highres_canvas","width","height","coordinateSystem","Math","PI","set_as_overlay_on","makeArm","v2","random","addEventListener","ev","last_mouse_pos","points","input","LeftMouse","canvas","current_arm","arm","segments","x_axis_index","angle","x","y_axis_index","Trail","current_mode","rrt","perform_rrt_mode_setup","perform_gradient_mode_setup","requestAnimationFrame","update","_a","perform_rrt_mode_loop","perform_gradient_mode_loop","addAxes","axis_names","current_loss","l_obj","get_arm_tip_pos","points_along_arm","Losses","perform_arm_gradient_step","drawArm","copy_arm","pos","zero","map","s","copy","amount","i","cs","color","_i","segment","tip","fromPolar","line","add","current_loss_type","step_size","grad","loss_gradient","toggle_level_set","checked","its","inner","level_set_scale","get_loss","level_set_offset","cos","loss","L2","L2_squared","L1","L1_squared","Line","get_loss_gradient","L2_gradient","L2_squared_gradient","L1_gradient","L1_squared_gradient","Line_gradient","target","distance","dLoss_dtip","t1","t2","t3","pow","tip_pos","abs","dloss_dtip","change","dtip_dangle","local_tip","dtipx_dangle","sin","dtipy_dangle","angle_grad","angle_tip_gradient","acc","ref_pos","leftover","current","new_point","loss_func","loss_gradient_func","app_1","utils_1","clear","heatmap","angles_2_to_loss","matplotlib_cmap","state","mod","circle","handle_input","ctx","fillText","concat","toFixed","draw","arm_copy","ArrowRight","ArrowLeft","ArrowUp","ArrowDown","w","min","yMax","max","yMin","a","xMin","d","xMax","event","key","preventDefault","button","extendStatics","__extends","b","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","String","__","constructor","create","RectangleObstacle","CircleObstacle","Obstacle","bbox","get_AABB","calculate_AABB","contains","point","query","_super","radius","_this","sub","coords","size","Error","startColor","endColor","round","resolution","axes_canvas","axes_coords","mouse_within_bounds","is_overlay_on","needs_axes","axes_resolution","getContext","style","floor","scale","world_to_point","clientX","clientY","window","on_resize","bind","_b","coord","position","left","toString","top","pointerEvents","zIndex","parseInt","imageRendering","remove","createElement","diff","width_change","height_change","offsetLeft","offsetTop","parentElement","appendChild","axes_ctx","font","fillStyle","x_label_pos","x_max_pos","x_min_pos","x_offset","fontsize","y_label_pos","y_max_pos","y_min_pos","y_offset","col","draw_text","clearRect","text","rad_angle","textAlign","pixel_offset","pixel_pos","point_to_pixel","translate","rotate","xPixel","yPixel","p1","p2","pp1","pp2","strokeStyle","beginPath","moveTo","lineTo","stroke","r","pp","radius_in_pixels","arc","mousePos","xRange","yRange","rect","getBoundingClientRect","bottom","func","colorMap","level_set","all_data","Infinity","j","span","imageData","createImageData","data","level_data","index","putImageData","RRTStar","Tree","TreeNode","parent","cost","nodes","addNode","dist","newcost","node","getRandomNode","randomIndex","getNodeCount","start","stepSize","point_collides","goal_reached","minX","maxX","minY","maxY","goalnode","star","searchradius","finished","exploration_target","go_to_target","tree","generateRRTStar","maxIterations","randomPoint","generateRandomPoint","findNearestNode","nearestNode","dist1","extend","newPoint","dist2","newNode","success","nearbyNodes","findNearbyNodes","sort","nearbyNodes_1","_c","nearby_node","check_line_collides","rewire","nearestDistance","angledistance_2d","from","to","dir","angle_diff","normalize","newX","newY","re_check_solution_found","nearbyNodes_2","nearby_nodes","drawtree","get_shortest_path","path","reverse","steps","ceil","magnitude","perform_rrt_mode_setdown","obstacles_1","rrt_1","rrt_container","obstacles","angles_2_to_collision","rrt_goal","reset_rrt_on_click","delay","make_tree_slow","removeEventListener","angles","last_valid_state","obstacles_2","collided","arm_points","arm_points_1","obstacles_3","mode_selector","dropdown","slider_level_set_scale","number_level_set_offset","x_axis_index_input","y_axis_index_input","arm_amount_input","isDisabled","disabled","refresh_mode","console","log","valueAsNumber","arm_amount","max_points","min_dist","max_dist","shift","element","element2","fastest_way_angle","m","delayInMilliseconds","setTimeout","x_diff","y_diff","sqrt","other","scalar","get","enumerable","configurable","dot","cosAngle","acos","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__"],"sourceRoot":""}